{"version":3,"sources":["api/chat/chat.socket.js"],"names":["ChatSocket","events","createListener","event","socket","doc","console","log","emit","removeListener","listener","ChatEvents","i","eventsLength","length","on"],"mappings":";;;;;QAmBgBA,U,GAAAA,U;;AAhBhB;;;;;;AAEA;AACA,MAAMC,SAAS,CAAC,MAAD,EAAS,QAAT,CAAf,C,CANA;;AAOA,SAASC,cAAT,CAAwBC,KAAxB,EAA+BC,MAA/B,EAAuC;AACrC,SAAO,UAAUC,GAAV,EAAe;AAClBC,YAAQC,GAAR,CAAY,MAAZ,EAAoBJ,KAApB;AACFC,WAAOI,IAAP,CAAYL,KAAZ,EAAmBE,GAAnB;AACD,GAHD;AAID;;AAED,SAASI,cAAT,CAAwBN,KAAxB,EAA+BO,QAA/B,EAAyC;AACvC,SAAO,YAAY;AACjBC,mBAAWF,cAAX,CAA0BN,KAA1B,EAAiCO,QAAjC;AACD,GAFD;AAGD;AACM,SAASV,UAAT,CAAoBI,MAApB,EAA4B;AAC/BE,UAAQC,GAAR,CAAY,MAAZ;AACF;AACA,OAAK,IAAIK,IAAI,CAAR,EAAWC,eAAeZ,OAAOa,MAAtC,EAA8CF,IAAIC,YAAlD,EAAgED,GAAhE,EAAqE;AACnE,UAAMT,QAAQF,OAAOW,CAAP,CAAd;AACA,UAAMF,WAAWR,eAAgB,QAAOC,KAAM,EAA7B,EAAgCC,MAAhC,CAAjB;;AAEAO,mBAAWI,EAAX,CAAcZ,KAAd,EAAqBO,QAArB;AACAN,WAAOW,EAAP,CAAU,YAAV,EAAwBN,eAAeN,KAAf,EAAsBO,QAAtB,CAAxB;AACD;AACF","file":"chat.socket.js","sourcesContent":["/* eslint-disable import/prefer-default-export */\n\n\nimport ChatEvents from './chat.events';\n\n// Model events to emit\nconst events = ['save', 'remove'];\nfunction createListener(event, socket) {\n  return function (doc) {\n      console.log('even', event)\n    socket.emit(event, doc);\n  };\n}\n\nfunction removeListener(event, listener) {\n  return function () {\n    ChatEvents.removeListener(event, listener);\n  };\n}\nexport function ChatSocket(socket) {\n    console.log('hehe');\n  // Bind model events to socket events\n  for (let i = 0, eventsLength = events.length; i < eventsLength; i++) {\n    const event = events[i];\n    const listener = createListener(`Chat:${event}`, socket);\n\n    ChatEvents.on(event, listener);\n    socket.on('disconnect', removeListener(event, listener));\n  }\n}\n\n"]}